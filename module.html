<div class="col-md-12" ng-controller="MainController">
    <div class="panel panel-info" ng-show="!depsdone">
        <div class="panel-body bg-info">
            <p>Waiting on Dependencies... <img src="img/throbber.gif"></img></p>
        </div>
    </div>
    <div class="panel panel-warning" ng-show="depsdone && !depsgood">
        <div class="panel-body bg-warning">
            <p>Something went wrong with dependencies...</p>
            <p>If you refreshed the page while dependencies were installing, you will see an error until the installation is done.</p>
            <p>Try checking your internet connection or waiting a bit and refreshing the page.</p>
            <p>If the problem persists, you may need to check things manually via ssh.</p>
            <p>Error: <span class="text-danger">{{ depserr }}</span></p>
        </div>
    </div>
    <div ng-show="depsdone && depsgood">
        <div class="panel panel-default" ng-controller="WashController">
            <div class="panel-heading" data-toggle="collapse" data-target="#Wash">
                <h3 class="panel-title">Scan For WPS Enabled APs</h3>
            </div>
            <div id="Wash" class="panel-body panel-collapse collapse in">
                <form>
                    <div class="input-group">
                        <label for="wash-interface" class="input-group-addon">
                            Interface
                        </label>
                        <select id="wash-interface" class="form-control" ng-model="selectedInterface">
                            <option ng-repeat="interface in interfaces">{{ interface }}</option>
                        </select>
                    </div>
                    <p ng-hide="interfaces.length"><small class="text-warning">No Wireless Interfaces Currently In Monitor Mode!</small></p>
                    <div class="input-group">
                        <label for="wash-length" class="input-group-addon">
                            Scan Length (seconds)
                        </label>
                        <select id="wash-length" class="form-control" ng-model="washTimeout">
                            <option ng-repeat="t in [15,30,60,300,600]">{{ t }}</option>
                        </select>
                        <label for="wash-channel" class="input-group-addon">
                            Channel
                        </label>
                        <select id="wash-channel" class="form-control" ng-model="channel">
                            <option ng-repeat="c in ['all',1,2,3,4,5,6,7,8,9,10,11]">{{ c }}</option>
                        </select>
                        <span class="input-group-btn">
                            <button class="btn btn-default" ng-click="washScan()">
                                <span>
                                    Scan
                                </span>
                            </button>
                            <button class="btn btn-default" ng-click="stopScan()">
                                <span>
                                    Stop Scan
                                </span>
                            </button>
                        </span>
                    </div>
                    <div class="row">
                        <span class="col-sm-12">
                            <span class="pull-right">
                                <label>
                                    Auto Stop Services
                                    <input type="checkbox" ng-model="$parent.autoStopServices" ng-change="toggleAutoStopServices()">
                                </label>
                            </span>
                        </span>
                    </div>
                </form>
                <br>
                <pre class="well">{{ scanResults }}</pre>
            </div>
        </div>
        <div class="panel panel-default" ng-controller="ReaverController">
            <div class="panel-heading" data-toggle="collapse" data-target="#Reaver">
                <h3 class="panel-title">Crack WPS</h3>
            </div>
            <div id="Reaver" class="panel-body panel-collapse collapse in">
                <form>
                    <div class="input-group">
                        <label for="reaver-interface" class="input-group-addon">
                            Interface
                        </label>
                        <select id="reaver-interface" class="form-control" ng-model="selectedInterface">
                            <option ng-repeat="interface in interfaces">{{ interface }}</option>
                        </select>
                    </div>
                    <p ng-hide="interfaces.length"><small class="text-warning">No Wireless Interfaces Currently In Monitor Mode!</small></p>
                    <div class="input-group">
                        <label for="reaver-bssid" class="input-group-addon">
                            Target BSSID
                        </label>
                        <input id="reaver-bssid" class="form-control" type="text" ng-model="bssid" ng-change="changeSession()">
                        <label for="reaver-channel" class="input-group-addon">
                            Channel
                        </label>
                        <select id="reaver-channel" class="form-control" ng-model="channel">
                            <option ng-repeat="c in ['auto',1,2,3,4,5,6,7,8,9,10,11]">{{ c }}</option>
                        </select>
                        <span class="input-group-btn">
                            <button class="btn btn-default" ng-click="reaverCrack()">
                                <span>
                                    Crack
                                </span>
                            </button>
                            <button class="btn btn-default" ng-click="stopCrack()">
                                <span>
                                    Stop Crack
                                </span>
                            </button>
                        </span>
                    </div>
                    <div class="row">
                        <span class="col-sm-12">
                            <span class="pull-right" style="padding-left:20px">
                                <label>
                                    Auto Stop Services
                                    <input type="checkbox" ng-model="$parent.autoStopServices" ng-change="toggleAutoStopServices()">
                                </label>
                            </span>
                            <span class="pull-right">
                                <label>
                                    Pixie Dust
                                    <input type="checkbox" ng-model="pixieDust">
                                </label>
                            </span>
                        </span>
                    </div>
                    <div class="input-group">
                        <label for="reaver-session" class="input-group-addon">
                            Session
                        </label>
                        <select id="reaver-session" class="form-control" ng-model="bssid" ng-change="changeSession()">
                            <option ng-repeat="session in sessions">{{ session }}</option>
                        </select>
                        <span class="input-group-btn">
                            <button class="btn btn-default" ng-click="deleteCrack()">
                                <span>
                                    Delete
                                </span>
                            </button>
                        </span>
                    </div>
                </form>
                <br>
                <pre class="well">{{ crackResults }}</pre>
                <form>
                    <div class="input-group">
                        <label for="reaver-pin" class="input-group-addon">
                            WPS Pin
                        </label>
                        <input id="reaver-pin" class="form-control" type="text" ng-model="pin">
                        <span class="input-group-btn">
                            <button class="btn btn-default" ng-click="reaverPin()">
                                <span>
                                    Try Pin
                                </span>
                            </button>
                        </span>
                    </div>
                    <div class="input-group">
                        <label for="reaver-pass" class="input-group-addon">
                            WPA Pass
                        </label>
                        <input id="reaver-pass" class="form-control" type="text" ng-model="password" disabled>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

